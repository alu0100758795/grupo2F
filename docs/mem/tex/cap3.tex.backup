%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Chapter 3: Procedimiento experimental 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Descripción de los experimentos}
\label{3:sec:1}
Vamos a aplicar la regla del trapecio a la función $sin(\pi x)$ en el intervalo $[-2,-1]$ utilizando una cantidad variable de subintervalos, $n$. Para cada valor de $n$, mediremos el error absoluto y el tiempo de ejecución del método. Los valores de $n$ que consideraremos irán desde $n=1$ hasta un $n_f$ tal que el error del método no disminuya casi nada cuando $n > n_f$. 

Primero calculamos analíticamente la cota superior del error para comparar los errores que vamos obteniendo con dicha cota. Sabemos que su expresión es $$error(n) < -\frac{h^{2}}{12}f''(\xi)(b-a) \quad,\quad \xi\in[a,b]$$ que en nuestro caso será $$\frac{\pi^{2}}{12n^{2}}$$

Para calcular el error absoluto de cada aproximación, restaremos al valor calculado analíticamente para la integral, $\frac{2}{\pi}$, el valor obtenido por el método. De la resta, haremos el valor absoluto.

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Descripción del material}
\label{3:sec:2}

Los experimentos han tenido lugar sobre un procesador Intel Core i3-2350M a 2.30 GHz. Nótese que, aunque la máquina tiene cuatro procesadores, sólo se empleó uno de ellos para realizar los cálculos. El sistema operativo fue Linux Mint 14.1 (Nadia) con la versión 3.5.0-17 del kernel. Los algoritmos fueron implementados en Python y la versión del intérprete de este lenguaje fue la 2.7.3.

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\pagebreak
\section{Resultados obtenidos}
\label{3:sec:3}
Resumimos los resultados obtenidos en la siguiente tabla:

%Partiendo de diferentes números de subintervalos, generabamos una tabla con los valores donde n es el número de subintervalos, error es el error absoluto y tiempo que es el tiempo que tardo en ejecutarse el calculo de la aproximación y el error absoluto.  Mediante la tabla trazamos 3 gráficas, número de subintervalos frente al error, número de subintervalos frente al error añadiendo número de subintervalos frenta a la cota de error y por ultimo número de subintervalos frente al tiempo de ejecución.
%------------------------------------------------------------------------------
\input{table/tabla.tex}

donde $n$ es el número de subintervalos, $error$ es el error absoluto cometido y $tiempo$ es el tiempo de ejecución.

%------------------------------------------------------------------------------
%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Análisis de los resultados}
\label{3:sec:4}

 Para analizar los resultados, generamos dos gráficas: $n$ contra $error$~\ref{fig:1} y $n$ contra $tiempo$~\ref{fig:3}. Además, para combrobar la corrección del método, generamos una tercera gráfica en la que superponemos la cota del error al error absoluto obtenido~\ref{fig:2}.
 
 Podemos ver que el error absoluto, calculado con el método del trapecio, converge a cero rápidamente (de manera cuadrática) y que apartir de $n=20$ ya obtenemos una buena aproximación de la integral que queremos calcular.
 
 Al superponer la cota del error al error obtenido, podemos ver que el segundo siempre está por debajo, como era de esperar. Esto nos indica que el método ha sido implementado correctamente.

 %Miramos la primera gráfica de los números de subintervalos frente al error~\ref{fig:1}. Análisando la gráfica obtenemos que el error absoluto, calculando con el método del trapecio, converge a cero rápidamente y que apartir de n=20 ya obtenemos una buena aproximación de la integral que queremos calcular.
 
 %En la segunda gráfica, o~\ref{fig:2}, hemos añadido la gráfica de los número de subintervalos frente a la cota superior de error. Observando la gráfica se ve que el error obtenido por los números de subintervalos en todo cas es menor que la cota calculada análiticamente.
 
 %El la tercera y la última gráfica, la gráfica~\ref{fig:3}, trazamos los números de subintervalos frente al tiempo que tardo en ejecutarse el cáculo de la aproximación de la integral y el error absoluto. Para trazar esta gráfica cogimos muchos más valores de número de subintervalos, o de 1 a 500 con un salto de 2, para ver bien el comportamiento del tiempo para cada número de subintervalo. Mirrando la gráfica se ve que el coste temporal es casi lineal y esto es porque el cálculo de la apróximación de la integral y error absoluto esta de dependiente del número de subintervalos.
 
\input{img/img.tex}

